<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <!-- _layout: post -->
    <!-- Begin Jekyll SEO tag v2.5.0 -->
    <title>Pairing the new Xbox One S controller (2018) with Android | iBug @ GitHub</title>
    <meta name="generator" content="Jekyll v3.7.4" />
    <meta property="og:title" content="Pairing the new Xbox One S controller (2018) with Android" />
    <meta name="author" content="iBug" />
    <meta property="og:locale" content="en_US" />
    <meta name="description" content="I just bought an Xbox One S controller that’s manufactured in 2018. The .kl files found online weren’t correct anymore so I had to dig it out by myself." />
    <meta property="og:description" content="I just bought an Xbox One S controller that’s manufactured in 2018. The .kl files found online weren’t correct anymore so I had to dig it out by myself." />
    <link rel="canonical" href="https://ibug.github.io/blog/2018/06/new-xbox-one-s-controller.html" />
    <meta property="og:url" content="https://ibug.github.io/blog/2018/06/new-xbox-one-s-controller.html" />
    <meta property="og:site_name" content="iBug @ GitHub" />
    <meta property="og:type" content="article" />
    <meta property="article:published_time" content="2018-06-17T00:00:00+00:00" />
    <script type="application/ld+json">
      {"description":"I just bought an Xbox One S controller that’s manufactured in 2018. The .kl files found online weren’t correct anymore so I had to dig it out by myself.","@type":"BlogPosting","url":"https://ibug.github.io/blog/2018/06/new-xbox-one-s-controller.html","headline":"Pairing the new Xbox One S controller (2018) with Android","dateModified":"2018-06-17T00:00:00+00:00","datePublished":"2018-06-17T00:00:00+00:00","author":{"@type":"Person","name":"iBug"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://ibug.github.io/blog/2018/06/new-xbox-one-s-controller.html"},"@context":"http://schema.org"}
    </script>
    <!-- End Jekyll SEO tag -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#159A34">
    <!-- https://fonts.googleapis.com/css?family=Open+Sans:400,700 -->
    <link href='/assets/css/OpenSans.css' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/assets/css/style.css?v=1f1cf62e31b398b3cdcb925dc2bc0b0282f68a40">
    <link rel="shortcut icon" type="image/png" href="/assets/favicon.png">
    <time class="dt-published" datetime="2018-06-17T00:00:00+00:00" itemprop="datePublished">
      <script type="text/javascript" src="/assets/js/love.js" ></script>
    </head>
    <body>
      <section class="page-header">
        <div class="page-header-nav">
          <span style="float:left;height:0px;">
            <a href="/blog/2018/06/minimal-complete-verifiable-example.html" class="btn-inline">&laquo; Previous</a>
          </span>
          <span style="float:right;height:0px;">
            <a href="/blog/2018/06/transcript-for-last-week-tonight-s05-e15.html" class="btn-inline">Next &raquo;</a>
          </span>
        </div>
        <h1 class="project-name">Pairing the new Xbox One S controller (2018) with Android</h1>
        <h2 class="project-tagline">Finally, I got it to work</h2>
        <h3 class="project-date"><time datetime="2018-06-17T00:00:00+00:00" itemprop="datePublished">Jun 17, 2018</time> &bull; iBug</h3>
      </section>
      <section class="main-content blog-post">
        <article>
          <p>I just bought an Xbox One S controller yesterday, expecting it would pair with my Android phone via Bluetooth. I have learned that the key mapping would be a bit messed up because it’s a Microsoft product, and have already prepared for it by downloading a key layout file and placing it in my phone. However, it seems more stuff has changed since the tutorials found online were published.</p>
          <h1 id="meeting-the-new-controller">Meeting the new controller</h1>
          <p><img src="/image/xb1s-con.jpg" alt="Xbox One S controller" /></p>
          <h1 id="configuring-the-new-controller-to-play-with-android">Configuring the new controller to play with Android</h1>
          <p>It is unarguably delighting that the new Xbox One S controller pairs with Android devices, but again, unfortunately, as <a href="https://www.androidpolice.com/2016/08/11/psa-the-new-bluetooth-enabled-xbox-one-controller-works-with-android-but-not-very-well/">reviews</a> have shown, it doesn’t play well. While <a href="https://www.howtogeek.com/329647/how-to-get-the-xbox-one-s-controller-working-properly-with-android/">workarounds are easily available</a>, those don’t work for me, probably because my controller is too new (manufactured in April 2018).</p>
          <p>The supplied keylayout file looks like below:</p>
          <div class="language-sh highlighter-rouge">
            <div class="highlight">
              <pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre>
            </td>
            <td class="rouge-code">
              <pre>key 304   BUTTON_A
key 305   BUTTON_B
key 306   BUTTON_X
key 307   BUTTON_Y
key 308   BUTTON_L1
key 309   BUTTON_R1
key 310   BACK
key 311   BUTTON_START 
key 139   HOME
key 312   BUTTON_THUMBL
key 313   BUTTON_THUMBR

<span class="c"># Left and right stick.</span>
axis 0x00 X flat 4096
axis 0x01 Y flat 4096
axis 0x03 Z flat 4096
axis 0x04 RZ flat 4096

<span class="c"># Triggers.</span>
axis 0x02 LTRIGGER
axis 0x05 RTRIGGER

<span class="c"># Hat.</span>
axis 0x10 HAT_X
axis 0x11 HAT_Y
</pre>
            </td>
          </tr>
        </tbody>
      </table>
    </code></pre>
</div>
</div>
<p>Sadly, it has messed up on my phone. Button Y acts like button X, while button X doesn’t function at all.</p>
<p>This small issue shouldn’t be a problem for me, as has never been. With the help of Gamepad Tester applications, I worked out another keylayout file as following:</p>
<div class="language-sh highlighter-rouge">
  <div class="highlight">
    <pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre>
  </td>
  <td class="rouge-code">
    <pre><span class="c"># XBox One S Controller (2018)</span>
key 304   BUTTON_A
key 305   BUTTON_B
key 307   BUTTON_X
key 308   BUTTON_Y
key 310   BUTTON_L1
key 311   BUTTON_R1
key 315   BUTTON_START 
key 158   BUTTON_SELECT
key 317   BUTTON_THUMBL
key 318   BUTTON_THUMBR

<span class="c"># Left and right stick.</span>
axis 0x00 X
axis 0x01 Y
axis 0x0b Z
axis 0x0e RZ

<span class="c"># Triggers.</span>
axis 0x17 LTRIGGER
axis 0x17 BRAKE
axis 0x16 RTRIGGER
axis 0x16 THROTTLE

<span class="c"># Hat.</span>
axis 0x0f HAT_X
axis 0x10 HAT_Y
</pre>
  </td>
</tr>
</tbody>
</table>
</code></pre>
</div>
</div>
<p>If you’re encountering the same problem even after trying solutions found online, try mine. Replace the file content with my one, restart your device and connect the controller again. It should work then.</p>
</article>
<span class="post-tags">
  <b>Tag: </b>
  <a href="/tags/gaming" class="tag">gaming</a>
</span>
<footer class="site-footer">
  <span class="site-footer-credits">
    <div>
      <span style="float:left;padding-left:10px;height:0px;">
        <a href="/blog/2018/06/minimal-complete-verifiable-example.html">&laquo; Previous</a>
      </span>
      <span style="float:right;padding-right:10px;height:0px;">
        <a href="/blog/2018/06/transcript-for-last-week-tonight-s05-e15.html">Next &raquo;</a>
      </span>
    </div>
    <div align="center">
      <p><a href="/blog"><b>Return to index</b></a></p>
      <p>Link to this article: <a href="https://ibug.github.io/p/9">https://ibug.github.io/p/9</a></p>
      <p><small>Content licensed under the <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0 license</a>. Attribution required.</small></p>
    </div>
  </span>
</footer>
</section>
<script type="text/javascript" src="/assets/js/line.js" ></script>
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  
  ga('create', 'UA-115907213-1', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>